!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],e):e(t.ReactSpring={},t.React,t.ReactDOM)}(this,function(t,g,_){"use strict";function V(){return(V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s(t,e){t.prototype.__proto__=e&&e.prototype,t.__proto__=e}g=g&&g.hasOwnProperty("default")?g.default:g,_=_&&_.hasOwnProperty("default")?_.default:_;var v=function(){function t(){}var e=t.prototype;return e.__attach=function(){},e.__detach=function(){},e.__getValue=function(){},e.__getAnimatedValue=function(){return this.__getValue()},e.__addChild=function(t){},e.__removeChild=function(t){},e.__getChildren=function(){return[]},t}(),b=function(a){function t(t,e,n,i,r){var o;return(o=a.call(this)||this)._value=t,o._parent=e,o._animationClass=n,o._animationConfig=i,o._callback=r,o.__attach(),o._hey=1,o}var e=t.prototype;return e.__getValue=function(){return this._parent.__getValue()},e.__attach=function(){this._parent.__addChild(this)},e.__detach=function(){this._parent.__removeChild(this)},e.update=function(){this._value.animate(new this._animationClass(V({},this._animationConfig,{to:this._animationConfig.to.__getValue()})),this._callback)},s(t,a),t}(v),e=function(e){function t(){var t;return(t=e.call(this)||this)._children=[],t}var n=t.prototype;return n.__addChild=function(t){t instanceof b&&(this._tracked=!0),0===this._children.length&&this.__attach(),this._children.push(t)},n.__removeChild=function(t){var e=this._children.indexOf(t);-1!==e?(this._children.splice(e,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")},n.__getChildren=function(){return this._children},s(t,e),t}(v),r=function(n){function t(t){var e;return t=t||{},(e=n.call(this)||this)._style=t,e}var e=t.prototype;return e.__getValue=function(){var t={};for(var e in this._style){var n=this._style[e];t[e]=n instanceof v?n.__getValue():n}return t},e.__getAnimatedValue=function(){var t={};for(var e in this._style){var n=this._style[e];n instanceof v&&(t[e]=n.__getAnimatedValue())}return t},e.__attach=function(){for(var t in this._style){var e=this._style[t];e instanceof v&&e.__addChild(this)}},e.__detach=function(){for(var t in this._style){var e=this._style[t];e instanceof v&&e.__removeChild(this)}},s(t,n),t}(e),a=function(i){function t(t,e){var n;return n=i.call(this)||this,t.style&&(t=V({},t,{style:new r(t.style)})),n._props=t,n._callback=e,n.__attach(),n}var e=t.prototype;return e.__getValue=function(){var t={};for(var e in this._props){var n=this._props[e];t[e]=n instanceof v?n.__getValue():n}return t},e.__getAnimatedValue=function(){var t={};for(var e in this._props){var n=this._props[e];n instanceof v&&(t[e]=n.__getAnimatedValue())}return t},e.__attach=function(){for(var t in this._props){var e=this._props[t];e instanceof v&&e.__addChild(this)}},e.__detach=function(){for(var t in this._props){var e=this._props[t];e instanceof v&&e.__removeChild(this)}},e.update=function(){this._callback()},s(t,i),t}(v),o=function(){function t(){}return t.create=function(t){return function(){return t.apply(void 0,arguments)}},t}(),n=void 0,u=void 0;function i(r){return function(t){function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentWillUnmount=function(){this._propsAnimated&&this._propsAnimated.__detach()},n.setNativeProps=function(t){!1===u.fn(this.node,t,this)&&this.forceUpdate()},n.componentWillMount=function(){this.attachProps(this.props)},n.attachProps=function(t){var e=this,n=this._propsAnimated;this._propsAnimated=new a(t,function(){e.node&&!1===u.fn(e.node,e._propsAnimated.__getAnimatedValue(),e)&&e.forceUpdate()}),n&&n.__detach()},n.componentWillReceiveProps=function(t){this.attachProps(t)},n.render=function(){var e=this,t=this._propsAnimated.__getValue(),n=t.style,i=y(t,["style"]);return g.createElement(r,V({},i,{style:u.transform(n),ref:function(t){return e.node=t}}))},s(e,t),e}(g.Component)}function l(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function c(t,e,n){var i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,o=l(r,i,t+1/3),a=l(r,i,t),s=l(r,i,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}var p="[-+]?\\d*\\.?\\d+",f=p+"%";function h(){return"\\(\\s*("+(t=arguments,Array.prototype.slice.call(t,0)).join(")\\s*,\\s*(")+")\\s*\\)";var t}var d={rgb:new RegExp("rgb"+h(p,p,p)),rgba:new RegExp("rgba"+h(p,p,p,p)),hsl:new RegExp("hsl"+h(p,f,f)),hsla:new RegExp("hsla"+h(p,f,f,p)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function m(t){var e=parseInt(t,10);return e<0?0:255<e?255:e}function k(t){return(parseFloat(t)%360+360)%360/360}function w(t){var e=parseFloat(t);return e<0?0:1<e?255:Math.round(255*e)}function x(t){var e=parseFloat(t,10);return e<0?0:100<e?1:e/100}var S={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},A=function(t){return t},P=function(){function t(){}return t.create=function(t){if("function"==typeof t)return function(){return t.apply(void 0,arguments)};if(t.output&&"string"==typeof t.output[0])return function(n){var i=n.output,r=(i=i.map(function(t){return t.replace(F,C)}).map(function(t){return t.replace(O,C)}))[0].match(E).map(function(){return[]});i.forEach(function(t){t.match(E).forEach(function(t,e){return r[e].push(+t)})});var o=i[0].match(E).map(function(t,e){return P.create(V({},n,{output:r[e]}))});return function(t){var e=0;return i[0].replace(E,function(){return o[e++](t)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(t,e,n,i,r){return"rgba("+Math.round(e)+", "+Math.round(n)+", "+Math.round(i)+", "+r+")"})}}(t);var n=t.output,i=t.range,r=t.easing||A,o="extend",a=t.map;void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var s="extend";return void 0!==t.extrapolateRight?s=t.extrapolateRight:void 0!==t.extrapolate&&(s=t.extrapolate),function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,i);return function(t,e,n,i,r,o,a,s,u){var l=u?u(t):t;if(l<e){if("identity"===a)return l;"clamp"===a&&(l=e)}if(n<l){if("identity"===s)return l;"clamp"===s&&(l=n)}if(i===r)return i;if(e===n)return t<=e?i:r;e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e);l=o(l),i===-1/0?l=-l:r===1/0?l+=i:l=l*(r-i)+i;return l}(t,i[e],i[e+1],n[e],n[e+1],r,o,s,a)}},t}();function C(t){var e,n,i="number"==typeof(e=t)?e>>>0===e&&0<=e&&e<=4294967295?e:null:(n=d.hex6.exec(e))?parseInt(n[1]+"ff",16)>>>0:S.hasOwnProperty(e)?S[e]:(n=d.rgb.exec(e))?(m(n[1])<<24|m(n[2])<<16|m(n[3])<<8|255)>>>0:(n=d.rgba.exec(e))?(m(n[1])<<24|m(n[2])<<16|m(n[3])<<8|w(n[4]))>>>0:(n=d.hex3.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=d.hex8.exec(e))?parseInt(n[1],16)>>>0:(n=d.hex4.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=d.hsl.exec(e))?(255|c(k(n[1]),x(n[2]),x(n[3])))>>>0:(n=d.hsla.exec(e))?(c(k(n[1]),x(n[2]),x(n[3]))|w(n[4]))>>>0:null;return null===i?t:"rgba("+((4278190080&(i=i||0))>>>24)+", "+((16711680&i)>>>16)+", "+((65280&i)>>>8)+", "+(255&i)/255+")"}var E=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,F=/(#[\d\w]+|\w+\((?:\d+%?(?:,\s)*){3}(?:\d*\.?\d+)?\))/,O=new RegExp("("+Object.keys(S).join("|")+")","g");var T=function(i){function e(t,e){var n;return(n=i.call(this)||this)._parents=Array.isArray(t)?t:[t],n._interpolation=o.create(e),n}var t=e.prototype;return t.__getValue=function(){return this._interpolation.apply(this,this._parents.map(function(t){return t.__getValue()}))},t.__attach=function(){for(var t=0;t<this._parents.length;++t)this._parents[t]instanceof v&&this._parents[t].__addChild(this)},t.__detach=function(){for(var t=0;t<this._parents.length;++t)this._parents[t]instanceof v&&this._parents[t].__removeChild(this)},t.interpolate=function(t){return new e(this,t)},s(e,i),e}(e),R=0;var j=function(n){function t(t){var e;return(e=n.call(this)||this)._value=t,e._animation=null,e._animatedStyles=new Set,e._listeners={},e}var e=t.prototype;return e.__detach=function(){this.stopAnimation()},e.__getValue=function(){return this._value},e._update=function(){!function e(t,n){"function"==typeof t.update?n.add(t):t.__getChildren().forEach(function(t){return e(t,n)})}(this,this._animatedStyles)},e._flush=function(){0===this._animatedStyles.size&&this._update(),this._animatedStyles.forEach(function(t){return t.update()})},e._updateValue=function(t){for(var e in this._value=t,this._flush(),this._listeners)this._listeners[e]({value:this.__getValue()})},e.setValue=function(t){this._animation&&(this._animation.stop(),this._animation=null),this._animatedStyles.clear(),this._updateValue(t)},e.stopAnimation=function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())},e.interpolate=function(t){return new T(this,t)},e.animate=function(t,e){var n=this,i=this._animation;this._animation&&this._animation.stop(),this._animation=t,this._animatedStyles.clear(),t.start(this._value,function(t){return n._updateValue(t)},function(t){n._animation=null,e&&e(t)},i)},e.addListener=function(t){var e=String(R++);return this._listeners[e]=t,e},e.removeListener=function(t){delete this._listeners[t]},e.removeAllListeners=function(){this._listeners={}},e.stopTracking=function(){this._tracking&&this._tracking.__detach(),this._tracking=null},e.track=function(t){this.stopTracking(),this._tracking=t},s(t,n),t}(e),M=function(e){return Object.keys(e).map(function(t){return e[t]})},W=function(t){return"auto"===t};var U={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var q=["Webkit","Ms","Moz","O"];Object.keys(U).forEach(function(i){q.forEach(function(t){var e,n;U[(e=t,n=i,e+n.charAt(0).toUpperCase()+n.substring(1))]=U[i]})}),o=P,n=function(f,h){h.native,h.children,h.render;var d=h.from,m=h.to;if(M(d).concat(M(m)).some(W)){var t=f.renderChildren(h,f.convertValues(h)),e=t.props.style;return g.createElement(t.type,V({},t.props,{style:V({},e,{position:"absolute",visibility:"hidden"}),ref:function(t){if(t){var e,n,i=_.findDOMNode(t),r=getComputedStyle(i);if("border-box"===r.boxSizing)e=i.clientWidth,n=i.clientHeight;else{var o=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),a=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),s=parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),u=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth);e=i.offsetWidth-o-s,n=i.offsetHeight-a-u}var l=(c=e,p=n,function(t,e){var n,i=e[0],r=e[1];return V({},t,((n={})[i]="auto"===r?~i.indexOf("height")?p:c:r,n))});requestAnimationFrame(function(){return f.updateProps(V({},h,{from:Object.entries(d).reduce(l,d),to:Object.entries(m).reduce(l,m)}),!0,!0)})}var c,p}}))}},u={fn:function(t,e){if(t.setNativeProps)t.setNativeProps(e);else{if(!t.nodeType||void 0===t.setAttribute)return!1;!function(t,e){var n,i,r,o=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=0===a.indexOf("--"),u=(i=e[n=a],r=s,null==i||"boolean"==typeof i||""===i?"":r||"number"!=typeof i||0===i||U.hasOwnProperty(n)&&U[n]?(""+i).trim():i+"px");"float"===a&&(a="cssFloat"),s?o.setProperty(a,u):o[a]=u}}(t,e.style),function(t,e){var n;for(var i in e)"style"!==i&&(n=e[i],t.getAttribute(i)&&t.setAttribute(i,n))}(t,e)}},transform:function(t){return t}};var z=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(t,e){var n;return V({},t,((n={})[e]=i(e),n))},{}),D=function(){function t(){}var e=t.prototype;return e.start=function(t,e,n,i){},e.stop=function(){},e.__debouncedOnEnd=function(t){var e=this.__onEnd;this.__onEnd=null,e&&e(t)},t}(),I=function(t,e){return null==t?e:t},L=function(a){function o(t){var y;(y=a.call(this)||this).onUpdate=function(){var t=y._lastPosition,e=y._lastVelocity,n=y._lastPosition,i=y._lastVelocity,r=Date.now();r>y._lastTime+64&&(r=y._lastTime+64);for(var o=Math.floor((r-y._lastTime)/1),a=0;a<o;++a){var s=.001,u=e,l=y._tension*(y._to-n)-y._friction*i,c=(n=t+u*s/2,i=e+l*s/2),p=y._tension*(y._to-n)-y._friction*i;n=t+c*s/2;var f=i=e+p*s/2,h=y._tension*(y._to-n)-y._friction*i;n=t+f*s/2;var d=i=e+h*s/2,m=y._tension*(y._to-n)-y._friction*i;n=t+f*s/2,i=e+h*s/2,t+=(u+2*(c+f)+d)/6*s,e+=(l+2*(p+h)+m)/6*s}if(y._lastTime=r,y._lastPosition=t,y._lastVelocity=e,y._onUpdate(t),y.__active){var _=!1;y._overshootClamping&&0!==y._tension&&(_=y._startPosition<y._to?t>y._to:t<y._to);var v=Math.abs(e)<=y._restSpeedThreshold,g=!0;if(0!==y._tension&&(g=Math.abs(y._to-t)<=y._restDisplacementThreshold),_||v&&g)return 0!==y._tension&&y._onUpdate(y._to),y.__debouncedOnEnd({finished:!0});y._animationFrame=requestAnimationFrame(y.onUpdate)}},y._overshootClamping=I(t.overshootClamping,!1),y._restDisplacementThreshold=I(t.restDisplacementThreshold,1e-4),y._restSpeedThreshold=I(t.restSpeedThreshold,1e-4),y._initialVelocity=t.velocity,y._lastVelocity=I(t.velocity,0),y._to=t.to;var e,n,i,r,o=(e=I(t.tension,40),n=I(t.friction,7),{tension:(r=e,3.62*(r-30)+194),friction:(i=n,3*(i-8)+25)});return y._tension=o.tension,y._friction=o.friction,y}var t=o.prototype;return t.start=function(t,e,n,i){if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=e,this.__onEnd=n,this._lastTime=Date.now(),i instanceof o){var r=i.getInternalState();this._lastPosition=r.lastPosition,this._lastVelocity=r.lastVelocity,this._lastTime=r.lastTime}if("string"==typeof t)return this._onUpdate(t),this.__debouncedOnEnd({finished:!0});void 0!==this._initialVelocity&&null!==this._initialVelocity&&(this._lastVelocity=this._initialVelocity),this.onUpdate()},t.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},t.stop=function(){this.__active=!1,clearTimeout(this._timeout),cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},s(o,a),o}(D),N=function(n){function t(t){var e;return(e=n.call(this)||this)._values=t.map(function(t){return new j(t)}),e}var e=t.prototype;return e.setValue=function(t){var n=this;t.forEach(function(t,e){return n._values[e].setValue(t)})},e.__getValue=function(){return this._values.map(function(t){return t.__getValue()})},e.stopAnimation=function(t){this._values.forEach(function(t){return t.stopAnimation()}),t&&t(this.__getValue())},e.__attach=function(){for(var t=0;t<this._values.length;++t)this._values[t]instanceof v&&this._values[t].__addChild(this)},e.__detach=function(){for(var t=0;t<this._values.length;++t)this._values[t]instanceof v&&this._values[t].__removeChild(this)},s(t,n),t}(e);function H(i,r,o){return void 0===o&&(o=L),t=i,n=H,a=o,h=(e=r).tension,d=e.friction,m=e.to,(t instanceof N?(s=t._values.map(function(t,e){return n(t,{tension:h,friction:d,to:m[e]},a)}),l=0,u={stopTogether:(c={},!1)},p=!(!1===u.stopTogether),f={start:function(i){if(l===s.length)return i&&i({finished:!0});s.forEach(function(t,e){var n=function(t){if(c[e]=!0,++l===s.length)return l=0,i&&i(t);!t.finished&&p&&f.stop()};t?t.start(n):n({finished:!0})})},stop:function(){s.forEach(function(t,e){!c[e]&&t.stop(),c[e]=!0})}}):null)||{start:function(t){var e=i,n=r;e.stopTracking(),r.to instanceof v?e.track(new b(e,r.to,o,n,t)):e.animate(new o(n),t)},stop:function(){i.stopAnimation()}};var t,e,n,a,s,u,l,c,p,f,h,d,m}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60}},B=function(t,e){return"function"==typeof t?t(e):t},K=function(t,e){var n,i=e[0],r=e[1];return V({},t,((n={})[i]=new j(r),n))},X=function(o){function t(){for(var t,e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e=o.call.apply(o,[this].concat(i))||this,e.state={props:void 0},e.animations={},e.callback=function(){e.props.onFrame&&e.props.onFrame(e.animatedProps.__getValue()),!e.props.native&&e.forceUpdate()},t||G(e)}var e=t.prototype;return e.componentWillUnmount=function(){this.stop()},e.componentWillMount=function(){this.updatePropsAsync(this.props)},e.componentWillReceiveProps=function(t){this.updatePropsAsync(t)},e.updatePropsAsync=function(t){t.inject&&(this.inject=t.inject(this,t),this.inject)||this.updateProps(t)},e.updateProps=function(t,e,_){var v=this;if(void 0===e&&(e=!1),void 0===_&&(_=!1),!this.destroyed||!t.destroyed){this.destroyed=t.destroyed;var g=t.impl,y=t.from,n=t.to,b=t.config,k=t.attach,w=t.immediate,x=t.hold,A=t.reset,P=(t.onFrame,t.onRest),i=(t.inject,t.native,Object.entries(V({},y,n)));this.interpolators={},this.animations=i.reduce(function(t,e,n){var i,r=e[0],o=e[1],a=!1===A&&v.animations[r]||(v.animations[r]={}),s="number"==typeof o,u="string"==typeof o&&!/\d/.test(o)&&!S[o],l=!s&&!u&&Array.isArray(o),c=void 0!==y[r]?y[r]:o,p=c instanceof j,f=s||l?o:1;if(k){var h=k(v),d=h&&h.animations[r];d&&(f=d.animation)}if(p)a.animation=a.interpolation=c;else if(s||u)a.animation=a.interpolation=a.animation||new j(c);else if(l)a.animation=a.interpolation=a.animation||new N(c);else{var m=a.interpolation&&a.interpolation._interpolation(a.animation._value);a.animation=new j(0),a.interpolation=a.animation.interpolate({range:[0,1],output:[void 0!==m?m:c,o]})}return B(w,r)&&a.animation.setValue(f),a.stopped=!1,a.onFinish=function(t){if(v.animations[r].stopped=!0,v.getAnimations().every(function(t){return t.stopped})){var e=V({},v.props.from,v.props.to);if(P&&P(e),t&&"function"==typeof t&&t(e),_){var n=v.convertValues(v.props);v.inject=v.renderChildren(v.props,n),v.forceUpdate()}}},a.start=function(e){if(B(x,r))return a.onFinish(e);H(a.animation,V({to:f},B(b,r)),g).start(function(t){return t.finished&&a.onFinish(e)})},a.stop=function(){a.stopped=!0,a.animation.stopAnimation()},v.interpolators[r]=a.interpolation,V({},t,((i={})[r]=a,i))},{});var r=this.animatedProps;this.animatedProps=new a(this.interpolators,this.callback),r&&r.__detach(),this.updateToken=!0,e&&this.forceUpdate()}},e.start=function(){var e,t=this,n=function(){return t.getAnimations().forEach(function(t){return t.start(e)})},i=new Promise(function(t){return e=t});return this.props.delay?(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){return n()},this.props.delay)):(n(),i)},e.stop=function(){this.getAnimations().forEach(function(t){return t.stop()})},e.flush=function(){this.getAnimations().forEach(function(t){var e=t.interpolation;return e._update&&e._update()})},e.getAnimations=function(){var e=this;return Object.keys(this.animations).map(function(t){return e.animations[t]})},e.getValues=function(){return this.animatedProps?this.animatedProps.__getValue():{}},e.getAnimatedValues=function(){return this.props.native?this.interpolators:this.getValues()},e.convertValues=function(t){var e=t.from,n=t.to,i=t.native,r=(t.children,t.render,this.getForwardProps(t)),o=Object.entries(V({},e,n));return i?o.reduce(K,r):V({},e,n,r)},e.getForwardProps=function(t){void 0===t&&(t=this.props);var e=t;e.to,e.from,e.config,e.native,e.onRest,e.onFrame,e.children,e.render,e.reset,e.immediate,e.impl,e.inject,e.hold;return y(e,["to","from","config","native","onRest","onFrame","children","render","reset","immediate","impl","inject","hold"])},e.componentDidUpdate=function(){this.updateToken&&(this.updateToken=!1,this.start())},e.componentDidMount=function(){this.start()},e.renderChildren=function(t,e){return t.render?t.render(V({},e,{children:t.children})):t.children(e)},e.render=function(){if(this.inject){var t=this.inject;return this.inject=void 0,t}var e=this.props,n=(e.children,e.render,this.getAnimatedValues());return n&&Object.keys(n).length?this.renderChildren(this.props,V({},n,this.getForwardProps())):null},s(t,o),t}(g.PureComponent);X.defaultProps={from:{},to:{},config:$.default,native:!1,immediate:!1,hold:!1,reset:!1,impl:L,inject:n};var Y=function(){return null},J=function(t,e){return void 0===t&&(t={}),"function"==typeof t?t(e):t},Q=function(t){var e=t.keys,n=t.children,i=t.render,r=t.items,o=y(t,["keys","children","render","items"]);return n=i||n||Y,e="function"==typeof e?r.map(e):e,Array.isArray(n)||(n=[n],e=e?[e]:n),V({keys:e,children:n,items:r},o)},Z=function(o){function t(){for(var t,e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e=o.call.apply(o,[this].concat(i))||this,e.springs=[],e.state={transitions:[]},t||G(e)}var e=t.prototype;return e.componentDidMount=function(){this.componentWillReceiveProps(this.props)},e.componentWillReceiveProps=function(t){var a=this,n=this.state.transitions,e=Q(t),s=e.keys,u=e.children,l=e.items,c=e.from,p=e.enter,f=e.leave,h=e.update,i=Q(this.props),d=i.keys,m=(i.children,i.items),r=n.map(function(t){return t.key}),o=new Set(s),_=new Set(r),v=s.filter(function(t){return!_.has(t)}),g=r.filter(function(t){return!o.has(t)}),y=s.filter(function(t){return _.has(t)});v.forEach(function(t){var e=s.indexOf(t);n=n.slice(0,e).concat([t],n.slice(e))}),n=n.map(function(e){var t="object"==typeof e,n=t?e.key:e,i=s.indexOf(n),r=l?l[i]:n;if(t){if(g.find(function(t){return t===n})){if(e.key=e.key+"_",!e.destroyed){var o=m?m[d.indexOf(n)]:n;e.to=J(f,o),e.destroyed=!0}e.from=a.springs[n].getValues(),e.onRest=function(){return a.setState(function(t){return{transitions:t.transitions.filter(function(t){return t!==e})}})}}else e.children=u[i]||e.children,h&&-1!==y.indexOf(e.key)&&(e.to=J(h,r)||e.to);return e}return{children:u[i],key:n,item:r,to:J(p,r),from:J(c,r)}});var b=s.map(function(e){return n.find(function(t){return t.key===e})});n.forEach(function(t,e){t.destroyed&&(b=b.slice(0,e).concat([t],b.slice(e)))}),this.setState({transitions:b})},e.getValues=function(){},e.render=function(){var a=this,t=this.props,s=t.render,e=(t.from,t.enter,t.leave,t.native),n=void 0!==e&&e,i=t.config,r=void 0===i?$.default:i,u=(t.keys,t.items,t.onFrame),l=t.onRest,c=V({native:n,config:r},y(t,["render","from","enter","leave","native","config","keys","items","onFrame","onRest"]));return this.state.transitions.map(function(t,e){var n=t.key,i=t.item,r=t.children,o=y(t,["key","item","children"]);return g.createElement(X,V({ref:function(t){return t?a.springs[n]=t:delete a.springs[n]},key:n,onRest:l&&function(t){return l(i,t)},onFrame:u&&function(t){return u(i,t)}},o,c,{render:s&&r,children:s?a.props.children:r}))})},s(t,o),t}(g.PureComponent),tt=function(t){function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getValues=function(){return this.instance&&this.instance.getValues()},n.componentDidMount=function(){this.instance&&this.instance.flush()},n.componentDidUpdate=function(){this.instance&&this.instance.flush()},n.render=function(){var n=this,t=this.props,r=t.children,o=t.render,e=t.from,i=void 0===e?{}:e,a=t.to,s=void 0===a?{}:a,u=t.native,l=void 0!==u&&u,c=t.config,p=void 0===c?$.default:c,f=t.keys,h=t.delay,d=t.onRest,m=y(t,["children","render","from","to","native","config","keys","delay","onRest"]),_=new Set,v=V({},m,{native:l,from:i,config:p,to:s});return(o||r).map(function(t,i){var e=0===i&&h;return g.createElement(X,V({ref:function(t){return 0===i&&(n.instance=t)},onRest:0===i?d:null,key:f[i]},v,{delay:e,attach:function(t){return e=i,n=t,_.add(n),0===e?void 0:Array.from(_)[e-1];var e,n},render:o&&t,children:o?r:t}))})},s(e,t),e}(g.PureComponent),et=i("div"),nt=g.createContext(null),it=nt.Provider,rt=nt.Consumer;function ot(t){return t?"scrollLeft":"scrollTop"}var at="translate3d(0px,0px,0px)",st="translate(0px,0px)",ut=function(t){function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){var t=this.parent;t&&(t.layers=t.layers.concat(this),t.update())},n.componentWillUnmount=function(){var e=this,t=this.parent;t&&(t.layers=t.layers.filter(function(t){return t!==e}),t.update())},n.setPosition=function(t,e,n){void 0===n&&(n=!1);var i=this.parent.props,r=i.config,o=i.impl,a=Math.floor(this.props.offset)*t,s=t*this.props.offset+a*this.props.speed,u=parseFloat(-e*this.props.speed+s);n?this.animatedTranslate.setValue(u):H(this.animatedTranslate,V({to:u},r),o).start()},n.setHeight=function(t,e){void 0===e&&(e=!1);var n=this.parent.props,i=n.config,r=n.impl,o=parseFloat(t*this.props.factor);e?this.animatedSpace.setValue(o):H(this.animatedSpace,V({to:o},i),r).start()},n.initialize=function(){var t=this.props,e=this.parent,n=Math.floor(t.offset)*e.space,i=e.space*t.offset+n*t.speed,r=parseFloat(-e.current*t.speed+i);this.animatedTranslate=new j(r),this.animatedSpace=new j(e.space*t.factor)},n.renderLayer=function(){var t,e=this.props,n=e.style,i=e.children,r=(e.offset,e.speed,e.factor,e.className),o=y(e,["style","children","offset","speed","factor","className"]),a=this.parent.props.horizontal,s=this.animatedTranslate.interpolate({range:[0,1],output:a?[at,"translate3d(1px,0,0)"]:[at,"translate3d(0,1px,0)"]});return g.createElement(et,V({},o,{className:r,style:V((t={position:"absolute",backgroundSize:"auto",backgroundRepeat:"no-repeat",willChange:"transform"},t[a?"height":"width"]="100%",t[a?"width":"height"]=this.animatedSpace,t.WebkitTransform=s,t.MsTransform=s,t.transform=s,t),n)}),i)},n.render=function(){var e=this;return g.createElement(rt,null,function(t){return t&&!e.parent&&(e.parent=t,e.initialize()),e.renderLayer()})},s(e,t),e}(g.PureComponent);ut.defaultProps={factor:1,offset:0,speed:0};var lt=function(o){function t(){for(var t,r,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=r=o.call.apply(o,[this].concat(n))||this,r.state={ready:!1},r.layers=[],r.space=0,r.current=0,r.offset=0,r.busy=!1,r.moveItems=function(){r.layers.forEach(function(t){return t.setPosition(r.space,r.current)}),r.busy=!1},r.scrollerRaf=function(){return requestAnimationFrame(r.moveItems)},r.onScroll=function(t){var e=r.props.horizontal;r.busy||(r.busy=!0,r.scrollerRaf(),r.current=t.target[ot(e)])},r.update=function(){var t=r.props,e=t.scrolling,n=t.horizontal,i=ot(n);r.container&&(r.space=r.container[n?"clientWidth":"clientHeight"],e?r.current=r.container[i]:r.container[i]=r.current=r.offset*r.space,r.content&&(r.content.style[n?"width":"height"]=r.space*r.props.pages+"px"),r.layers.forEach(function(t){t.setHeight(r.space,!0),t.setPosition(r.space,r.current,!0)}))},r.updateRaf=function(){requestAnimationFrame(r.update),setTimeout(r.update,150)},r.scrollStop=function(t){return r.animatedScroll&&r.animatedScroll.stopAnimation()},t||G(r)}var e=t.prototype;return e.scrollTo=function(t){var e=this.props,n=e.horizontal,i=e.config,r=e.impl,o=ot(n);this.scrollStop(),this.offset=t;var a=this.container;this.animatedScroll=new j(a[o]),this.animatedScroll.addListener(function(t){var e=t.value;return a[o]=e}),H(this.animatedScroll,V({to:t*this.space},i),r).start()},e.componentDidMount=function(){window.addEventListener("resize",this.updateRaf,!1),this.update(),this.setState({ready:!0})},e.componentWillUnmount=function(){window.removeEventListener("resize",this.updateRaf,!1)},e.componentDidUpdate=function(){this.update()},e.render=function(){var t,e=this,n=this.props,i=n.style,r=n.innerStyle,o=n.pages,a=n.className,s=n.scrolling,u=n.children,l=n.horizontal,c=s?"scroll":"hidden";return g.createElement("div",{ref:function(t){return e.container=t},onScroll:this.onScroll,onWheel:s?this.scrollStop:null,onTouchStart:s?this.scrollStop:null,style:V({position:"absolute",width:"100%",height:"100%",overflow:c,overflowY:l?"hidden":c,overflowX:l?c:"hidden",WebkitOverflowScrolling:"touch",WebkitTransform:st,MsTransform:st,transform:at},i),className:a},this.state.ready&&g.createElement("div",{ref:function(t){return e.content=t},style:V((t={position:"absolute"},t[l?"height":"width"]="100%",t.WebkitTransform=st,t.MsTransform=st,t.transform=at,t.overflow="hidden",t[l?"width":"height"]=this.space*o,t),r)},g.createElement(it,{value:this},u)))},s(t,o),t}(g.PureComponent);lt.Layer=ut,lt.defaultProps={config:$.slow,scrolling:!0,horizontal:!1,impl:L};var ct=function(o){function t(){for(var t,r,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=r=o.call.apply(o,[this].concat(n))||this,r.guid=0,r.state={primitive:void 0,props:{},oldProps:{},resolve:function(){return null}},r.next=function(n,i){return new Promise(function(e){r.setState(function(t){return{primitive:n,props:i,oldProps:V({},r.state.props),resolve:e}})})},t||G(r)}var e=t.prototype;return e.componentDidMount=function(){this.props.script&&this.props.script(this.next),this.UNSAFE_componentWillReceiveProps(this.props)},e.UNSAFE_componentWillReceiveProps=function(t){var e=this,n=t.states,i=t.state,r=t.primitive,o=++this.guid;if(n&&i&&r){var a=n[i];if(Array.isArray(a)){var s=Promise.resolve(),u=function(){if(c){if(p>=l.length)return"break";f=l[p++]}else{if((p=l.next()).done)return"break";f=p.value}var t=f;s=s.then(function(){return o===e.guid&&e.next(r,t)})},l=a,c=Array.isArray(l),p=0;for(l=c?l:l[Symbol.iterator]();;){var f;if("break"===u())break}}else"function"==typeof a?a(function(t){return o===e.guid&&e.next(r,t)}):this.next(r,n[i])}},e.render=function(){var e=this,t=this.state,n=t.primitive,i=t.props,r=t.oldProps,o=t.resolve,a=this.props,s=(a.script,a.from),u=y(a,["script","from"]);if(n){var l=this.instance&&this.instance.getValues(),c="function"==typeof i.from?i.from:V({},r.from,l,i.from);return g.createElement(n,V({ref:function(t){return e.instance=t}},u,i,{from:V({},c,s),onRest:o}))}return null},s(t,o),t}(g.Component);ct.Spring=function(t){return pt(X,t)},ct.Trail=function(t){return pt(tt,t)},ct.Transition=function(t){return pt(Z,t)};var pt=function(e,n){return function(t){return g.createElement(ct,V({primitive:e,states:n},t))}};t.Spring=X,t.Keyframes=ct,t.Transition=Z,t.Trail=tt,t.Parallax=lt,t.ParallaxLayer=ut,t.Animation=D,t.SpringAnimation=L,t.AnimatedValue=j,t.config=$,t.animated=z,t.controller=H,t.interpolate=function(t,e){return new T(t,e)},t.createAnimatedComponent=i,Object.defineProperty(t,"__esModule",{value:!0})});
